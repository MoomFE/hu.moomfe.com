<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>API | Hu.js</title>
    <meta name="description" content="基于 Web Components 和 Proxy 的 MVVM 框架">
    
    
    <link rel="preload" href="/assets/css/0.styles.e86869e2.css" as="style"><link rel="preload" href="/assets/js/app.0dacb833.js" as="script"><link rel="preload" href="/assets/js/2.01421ed1.js" as="script"><link rel="preload" href="/assets/js/6.229c71ae.js" as="script"><link rel="prefetch" href="/assets/js/10.84093b3d.js"><link rel="prefetch" href="/assets/js/11.eb16b760.js"><link rel="prefetch" href="/assets/js/12.377975bb.js"><link rel="prefetch" href="/assets/js/13.0628c2d5.js"><link rel="prefetch" href="/assets/js/14.c0e0b65b.js"><link rel="prefetch" href="/assets/js/15.914377fe.js"><link rel="prefetch" href="/assets/js/16.0f76cf8a.js"><link rel="prefetch" href="/assets/js/17.e6e99a71.js"><link rel="prefetch" href="/assets/js/18.17270e47.js"><link rel="prefetch" href="/assets/js/19.5f57896f.js"><link rel="prefetch" href="/assets/js/20.fd17fd99.js"><link rel="prefetch" href="/assets/js/3.3ed02152.js"><link rel="prefetch" href="/assets/js/4.780772e6.js"><link rel="prefetch" href="/assets/js/5.e1b11ae1.js"><link rel="prefetch" href="/assets/js/7.406014b2.js"><link rel="prefetch" href="/assets/js/8.1e79d612.js"><link rel="prefetch" href="/assets/js/9.9e054466.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e86869e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Hu.js</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">教程</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">教程</a></li><li class="dropdown-item"><!----> <a href="/guide-custom-element/" class="nav-link">教程 - 自定义元素</a></li><li class="dropdown-item"><!----> <a href="/guide-render/" class="nav-link">教程 - 纯渲染实例</a></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">资源列表</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MoomFE/Hu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">教程</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">教程</a></li><li class="dropdown-item"><!----> <a href="/guide-custom-element/" class="nav-link">教程 - 自定义元素</a></li><li class="dropdown-item"><!----> <a href="/guide-render/" class="nav-link">教程 - 纯渲染实例</a></li></ul></div></div><div class="nav-item"><a href="/api/" class="nav-link router-link-exact-active router-link-active">API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">资源列表</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MoomFE/Hu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub 仓库
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api/#全局-api" class="sidebar-link">全局 API</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#hu-define" class="sidebar-link">Hu.define</a></li><li class="sidebar-sub-header"><a href="/api/#hu-observable" class="sidebar-link">Hu.observable</a></li><li class="sidebar-sub-header"><a href="/api/#hu-html" class="sidebar-link">Hu.html</a></li><li class="sidebar-sub-header"><a href="/api/#hu-html-svg" class="sidebar-link">Hu.html.svg</a></li><li class="sidebar-sub-header"><a href="/api/#hu-render" class="sidebar-link">Hu.render</a></li><li class="sidebar-sub-header"><a href="/api/#hu-nexttick" class="sidebar-link">Hu.nextTick</a></li><li class="sidebar-sub-header"><a href="/api/#hu-noconflict" class="sidebar-link">Hu.noConflict</a></li><li class="sidebar-sub-header"><a href="/api/#hu-version" class="sidebar-link">Hu.version</a></li><li class="sidebar-sub-header"><a href="/api/#hu-util" class="sidebar-link">Hu.util</a></li></ul></li><li><a href="/api/#选项-数据" class="sidebar-link">选项 / 数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#data" class="sidebar-link">data</a></li><li class="sidebar-sub-header"><a href="/api/#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/api/#computed" class="sidebar-link">computed</a></li><li class="sidebar-sub-header"><a href="/api/#methods" class="sidebar-link">methods</a></li><li class="sidebar-sub-header"><a href="/api/#globalmethods" class="sidebar-link">globalMethods</a></li><li class="sidebar-sub-header"><a href="/api/#watch" class="sidebar-link">watch</a></li></ul></li><li><a href="/api/#选项-dom" class="sidebar-link">选项 / DOM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#el" class="sidebar-link">el</a></li><li class="sidebar-sub-header"><a href="/api/#render" class="sidebar-link">render</a></li><li class="sidebar-sub-header"><a href="/api/#styles" class="sidebar-link">styles</a></li></ul></li><li><a href="/api/#选项-生命周期钩子" class="sidebar-link">选项 / 生命周期钩子</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#beforecreate" class="sidebar-link">beforeCreate</a></li><li class="sidebar-sub-header"><a href="/api/#created" class="sidebar-link">created</a></li><li class="sidebar-sub-header"><a href="/api/#beforemount" class="sidebar-link">beforeMount</a></li><li class="sidebar-sub-header"><a href="/api/#mounted" class="sidebar-link">mounted</a></li><li class="sidebar-sub-header"><a href="/api/#beforedestroy" class="sidebar-link">beforeDestroy</a></li><li class="sidebar-sub-header"><a href="/api/#destroyed" class="sidebar-link">destroyed</a></li><li class="sidebar-sub-header"><a href="/api/#connected" class="sidebar-link">connected</a></li><li class="sidebar-sub-header"><a href="/api/#adopted" class="sidebar-link">adopted</a></li><li class="sidebar-sub-header"><a href="/api/#disconnected" class="sidebar-link">disconnected</a></li></ul></li><li><a href="/api/#选项-组合" class="sidebar-link">选项 / 组合</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#mixins" class="sidebar-link">mixins</a></li></ul></li><li><a href="/api/#实例属性" class="sidebar-link">实例属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#hu-el" class="sidebar-link">hu.$el</a></li><li class="sidebar-sub-header"><a href="/api/#hu-customelement" class="sidebar-link">hu.$customElement</a></li><li class="sidebar-sub-header"><a href="/api/#hu-root" class="sidebar-link">hu.$root</a></li><li class="sidebar-sub-header"><a href="/api/#hu-parent" class="sidebar-link">hu.$parent</a></li><li class="sidebar-sub-header"><a href="/api/#hu-children" class="sidebar-link">hu.$children</a></li><li class="sidebar-sub-header"><a href="/api/#hu-props" class="sidebar-link">hu.$props</a></li><li class="sidebar-sub-header"><a href="/api/#hu-data" class="sidebar-link">hu.$data</a></li><li class="sidebar-sub-header"><a href="/api/#hu-methods" class="sidebar-link">hu.$methods</a></li><li class="sidebar-sub-header"><a href="/api/#hu-computed" class="sidebar-link">hu.$computed</a></li><li class="sidebar-sub-header"><a href="/api/#hu-options" class="sidebar-link">hu.$options</a></li><li class="sidebar-sub-header"><a href="/api/#hu-info" class="sidebar-link">hu.$info</a></li><li class="sidebar-sub-header"><a href="/api/#hu-refs" class="sidebar-link">hu.$refs</a></li></ul></li><li><a href="/api/#实例方法-数据" class="sidebar-link">实例方法 / 数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#hu-watch" class="sidebar-link">hu.$watch</a></li></ul></li><li><a href="/api/#实例方法-事件" class="sidebar-link">实例方法 / 事件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#hu-on" class="sidebar-link">hu.$on</a></li><li class="sidebar-sub-header"><a href="/api/#hu-once" class="sidebar-link">hu.$once</a></li><li class="sidebar-sub-header"><a href="/api/#hu-off" class="sidebar-link">hu.$off</a></li><li class="sidebar-sub-header"><a href="/api/#hu-emit" class="sidebar-link">hu.$emit</a></li></ul></li><li><a href="/api/#实例方法-生命周期" class="sidebar-link">实例方法 / 生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#hu-mount" class="sidebar-link">hu.$mount</a></li><li class="sidebar-sub-header"><a href="/api/#hu-forceupdate" class="sidebar-link">hu.$forceUpdate</a></li><li class="sidebar-sub-header"><a href="/api/#hu-nexttick-2" class="sidebar-link">hu.$nextTick</a></li><li class="sidebar-sub-header"><a href="/api/#hu-destroy" class="sidebar-link">hu.destroy</a></li></ul></li><li><a href="/api/#自定义元素属性" class="sidebar-link">自定义元素属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#custom-hu" class="sidebar-link">custom.$hu</a></li></ul></li><li><a href="/api/#自定义元素方法" class="sidebar-link">自定义元素方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#custom-on" class="sidebar-link">custom.$on</a></li><li class="sidebar-sub-header"><a href="/api/#custom-once" class="sidebar-link">custom.$once</a></li><li class="sidebar-sub-header"><a href="/api/#custom-off" class="sidebar-link">custom.$off</a></li></ul></li><li><a href="/api/#基础指令" class="sidebar-link">基础指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#prop" class="sidebar-link">.prop</a></li><li class="sidebar-sub-header"><a href="/api/#attr" class="sidebar-link">?attr</a></li><li class="sidebar-sub-header"><a href="/api/#event" class="sidebar-link">@event</a></li><li class="sidebar-sub-header"><a href="/api/#name" class="sidebar-link">:name</a></li></ul></li><li><a href="/api/#功能指令" class="sidebar-link">功能指令</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#class" class="sidebar-link">:class</a></li><li class="sidebar-sub-header"><a href="/api/#style" class="sidebar-link">:style</a></li><li class="sidebar-sub-header"><a href="/api/#model" class="sidebar-link">:model</a></li><li class="sidebar-sub-header"><a href="/api/#show" class="sidebar-link">:show</a></li><li class="sidebar-sub-header"><a href="/api/#text" class="sidebar-link">:text</a></li><li class="sidebar-sub-header"><a href="/api/#html" class="sidebar-link">:html</a></li></ul></li><li><a href="/api/#指令方法" class="sidebar-link">指令方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/api/#html-repeat" class="sidebar-link">html.repeat</a></li><li class="sidebar-sub-header"><a href="/api/#html-unsafe" class="sidebar-link">html.unsafe</a></li><li class="sidebar-sub-header"><a href="/api/#html-bind" class="sidebar-link">html.bind</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h2 id="全局-api"><a href="#全局-api" aria-hidden="true" class="header-anchor">#</a> 全局 API</h2> <h3 id="hu-define"><a href="#hu-define" aria-hidden="true" class="header-anchor">#</a> Hu.define</h3> <ul><li>用法:   <code>Hu.define( name, options )</code></li> <li>参数:
<ul><li><code>{ String } name</code></li> <li><code>{ Object } options</code></li></ul></li> <li>详细:   方法可用于定义一个全局的自定义元素
</li></ul> <h3 id="hu-observable"><a href="#hu-observable" aria-hidden="true" class="header-anchor">#</a> Hu.observable</h3> <ul><li>用法:   <code>Hu.observable( object )</code></li> <li>参数:
<ul><li><code>{ Object } object</code></li></ul></li> <li>详细:</li></ul> <p>方法会返回一个可响应的对象代理 ( 观察者对象 ), Hu 内部会用它来处理 <code>data</code> 函数返回的对象</p> <p>返回的可响应的对象代理可以直接用于渲染函数和计算属性内, 并且会在发生改变时触发相应的更新, 而对源对象直接进行修改将是不可响应的</p> <p>也可以作为最小化的跨组件状态存储器</p> <ul><li>示例:</li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> state <span class="token operator">=</span> Hu<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  count<span class="token punctuation">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
      &lt;div @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>add <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;Count is: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> state<span class="token punctuation">.</span>count <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
    `</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      state<span class="token punctuation">.</span>count<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-html"><a href="#hu-html" aria-hidden="true" class="header-anchor">#</a> Hu.html</h3> <ul><li>用法:   <code>Hu.html`&lt;div&gt;&lt;/div&gt;`</code></li> <li>详细: 方法用于创建 <code>TemplateResult</code> 模板</li> <li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 一处定义, 处处使用</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> Hu<span class="token punctuation">.</span>html<span class="token template-string"><span class="token string">`
  &lt;div&gt;Hello world&lt;/div&gt;
`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 在 Hu.render 中使用</span>
Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> result<span class="token punctuation">,</span> app <span class="token punctuation">)</span>

<span class="token comment">// 在 new Hu 创建的实例中使用</span>
<span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> app<span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// html === Hu.html</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 在 Hu.define 创建的自定义元素中使用</span>
Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">// html === Hu.html</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-html-svg"><a href="#hu-html-svg" aria-hidden="true" class="header-anchor">#</a> Hu.html.svg</h3> <ul><li>用法:   <code>Hu.html`&lt;div&gt;&lt;/div&gt;`</code></li> <li>详细:</li></ul> <p>方法用于创建 <code>SVGTemplateResult</code> 模板, 用于解决使用 <code>Hu.html</code> 单独创建出的 svg 内部元素无效的问题</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> text <span class="token operator">=</span> Hu<span class="token punctuation">.</span>html<span class="token punctuation">.</span>svg<span class="token template-string"><span class="token string">`&lt;text y=&quot;50%&quot; dy=&quot;30%&quot;&gt;123&lt;/text&gt;`</span></span><span class="token punctuation">;</span>

Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token template-string"><span class="token string">`
  &lt;svg&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> text <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/svg&gt;
`</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-render"><a href="#hu-render" aria-hidden="true" class="header-anchor">#</a> Hu.render</h3> <ul><li>用法:   <code>Hu.render( result, container )</code></li> <li>参数:
<ul><li><code>{ TemplateResult } result</code></li> <li><code>{ Element } container</code></li></ul></li> <li>详细:</li></ul> <p>方法可以在不借助使用 <code>new Hu</code> 或 <code>Hu.define</code> 的情况下, 渲染一个 HTML 片段</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> app <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">'张三'</span><span class="token punctuation">;</span>

<span class="token comment">// 正常使用</span>
Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>
  Hu<span class="token punctuation">.</span>html<span class="token template-string"><span class="token string">`&lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;`</span></span><span class="token punctuation">,</span>
  app
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 另一种使用方式</span>
Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token template-string"><span class="token string">`
  &lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> name <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
`</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-nexttick"><a href="#hu-nexttick" aria-hidden="true" class="header-anchor">#</a> Hu.nextTick</h3> <ul><li>用法:   <code>Hu.nextTick( callback, context )</code></li> <li>参数:
<ul><li><code>{ Function } callback</code></li> <li><code>{ Object } context</code></li></ul></li> <li>详细:</li></ul> <p>在下次 DOM 更新循环结束之后执行延迟回调. 在修改数据之后立即使用这个方法, 获取更新后的 DOM</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 修改数据</span>
hu<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">'Hello'</span><span class="token punctuation">;</span>
<span class="token comment">// DOM 还没有更新</span>
Hu<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// DOM 更新了</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 作为一个 Promise 使用</span>
Hu<span class="token punctuation">.</span><span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// DOM 更新了</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-noconflict"><a href="#hu-noconflict" aria-hidden="true" class="header-anchor">#</a> Hu.noConflict</h3> <ul><li>用法:   <code>Hu.noConflict()</code></li> <li>详细:   释放 window.Hu 的控制权, 还原到定义 Hu 之前</li></ul> <h3 id="hu-version"><a href="#hu-version" aria-hidden="true" class="header-anchor">#</a> Hu.version</h3> <ul><li>详细:   提供字符串形式的 Hu 安装版本号</li></ul> <h3 id="hu-util"><a href="#hu-util" aria-hidden="true" class="header-anchor">#</a> Hu.util</h3> <ul><li>详细:   共享出来的部分内部使用的方法</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/**
 * 绑定事件
 * @param elem 绑定事件的元素对象
 * @param type 事件名称
 * @param listener 事件回调
 * @param options 事件修饰符
 */</span>
<span class="token function">addEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">:</span> Element<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">listener</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 解绑事件
 * @param elem 解绑事件的元素对象
 * @param type 事件名称
 * @param listener 事件回调
 * @param options 事件修饰符
 */</span>
<span class="token function">removeEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">:</span> Element<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token function-variable function">listener</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">,</span> options<span class="token punctuation">:</span> <span class="token builtin">boolean</span> <span class="token operator">|</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 触发事件
 * @param elem 触发事件的元素对象
 * @param type 事件名称
 */</span>
<span class="token function">triggerEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">:</span> Element<span class="token punctuation">,</span> <span class="token keyword">type</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 对象遍历方法
 *  - 和 jQuery 的 each 方法不同, 遍历过程无法通过返回 false 进行中断
 *  - 就是个普通的对象遍历方法
 * @param obj 
 * @param callback 
 */</span>
<span class="token function">each</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">callback</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是纯粹的对象
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isPlainObject</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是一个空对象
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isEmptyObject</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是原始对象
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isPrimitive</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入的两个值是否相等
 *  - 用于避免 NaN !== NaN 的问题
 * @param value 需要判断的对象
 * @param value2 需要判断的对象
 */</span>
<span class="token function">isEqual</span><span class="token punctuation">(</span> value<span class="token punctuation">,</span> value2 <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是 String 类型
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isString</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是 Object 类型且不为 null
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isObject</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是 Function 类型
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isFunction</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 判断传入对象是否是 Symbol 类型
 * @param obj 需要判断的对象
 */</span>
<span class="token function">isSymbol</span><span class="token punctuation">(</span> obj<span class="token punctuation">:</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">boolean</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 返回一个字符串 UID
 */</span>
<span class="token function">uid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * 创建一个可以缓存方法返回值的方法
 * @param fn 需要缓存值的方法
 */</span>
<span class="token function">cached</span><span class="token punctuation">(</span> <span class="token function-variable function">fn</span><span class="token punctuation">:</span> <span class="token punctuation">(</span> <span class="token parameter">str<span class="token punctuation">:</span> <span class="token builtin">string</span></span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span> <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="选项-数据"><a href="#选项-数据" aria-hidden="true" class="header-anchor">#</a> 选项 / 数据</h2> <h3 id="data"><a href="#data" aria-hidden="true" class="header-anchor">#</a> data</h3> <ul><li>类型:   <code>Object | Function</code></li> <li>限制:   定义自定义元素只接受 Function</li> <li>详细:  </li></ul> <p>Hu 实例的数据对象, Hu 会使用 <a href="#hu-observable">Hu.observable</a> 将对象转为观察者对象, 从而使之能够响应数据变化</p> <p>实例创建之后, 可以通过 <code>hu.$data</code> 访问该实例完整数据对象, Hu 实例也代理了 <code>data</code> 对象上所有的属性, 因此访问 <code>hu.a</code> 等价于访问 <code>hu.$data.a</code></p> <p>以 <code>$</code> 开头的属性<strong>不会</strong>被 Hu 实例代理, 因为它们可能和 Hu 内置的属性、API 方法冲突. 但是你依旧可以使用如 <code>hu.$data.$a</code> 的方式访问这些属性</p> <p>当一个<strong>自定义元素</strong>被定义, <code>data</code> 必须声明为一个返回数据对的函数, 因为自定义元素可能被用来创建多个实例. 如果 <code>data</code> 仍然是一个纯粹的对象, 则所有的实例将<strong>共享引用</strong>同一个数据对象 ! 通过提供 <code>data</code> 函数, 每次创建一个新实例后, 我们能够调用 <code>data</code> 函数, 从而返回初始数据的一个全新副本数据对象</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 创建一个实例</span>
<span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 1</span>
hu<span class="token punctuation">.</span>$data<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 1</span>
hu<span class="token punctuation">.</span>$data <span class="token operator">===</span> data <span class="token comment">// -&gt; false</span>

Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// 定义自定义元素时, data 属性必须为一个函数</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// this 将会是当前实例</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      data<span class="token punctuation">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 你也可以使用箭头表达式</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    data<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="props"><a href="#props" aria-hidden="true" class="header-anchor">#</a> props</h3> <ul><li>类型:   <code>Array&lt;String&gt; | Object</code></li> <li>限制:   只有自定义元素创建的实例才能发挥其作用</li> <li>详细:</li></ul> <p>props 可以是数组或对象, 用于接收来自定义元素上属性 ( Attribute ) 的数据, props 可以是简单的数组, 或者使用对象作为替代, 对象允许配置高级选项, 如类型转换、来源属性或默认值</p> <p>你可以基于对象的语法使用以下选项:</p> <div class="tip custom-block"><ul><li><code>attr</code> : 定义当前 prop 从自定义元素哪个属性名称上进行取值</li> <li><code>type</code> : 定义当前 prop 如何从自定义元素的属性转换为实例上的属性, 可以是 <code>String</code>、<code>Number</code>、<code>Boolean</code> 等或者自定义的方法</li> <li><code>default</code> : 定义当前 prop 的默认值, 如果在创建实例时 prop 没有被传入, 则换做用这个值, 对象或数组的默认值必须从一个工厂函数返回</li></ul></div> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 简单语法</span>
Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">[</span> <span class="token string">'size'</span><span class="token punctuation">,</span> <span class="token string">'myMessage'</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 对象语法</span>
Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 类型转换</span>
    size<span class="token punctuation">:</span> Number<span class="token punctuation">,</span>
    <span class="token comment">// 类型转换 + 默认值 + 来源属性</span>
    myMessage<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
      attr<span class="token punctuation">:</span> <span class="token string">'message'</span><span class="token comment">// 若不设置, 将会从 my-message 上进行取值</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="computed"><a href="#computed" aria-hidden="true" class="header-anchor">#</a> computed</h3> <ul><li>类型:   <code>{ [key: String]: Function | { get: Function, set: Function } }</code></li> <li>详细:</li></ul> <p>计算属性将被混入到 Hu 实例中. 所有 getter 和 setter 的 this 上下文自动地绑定为 Hu 实例</p> <p>注意如果你为一个计算属性使用了箭头函数, 则 this 不会指向这个组件的实例, 不过你仍然可以将其实例作为函数的第一个参数来访问</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">aDouble</span><span class="token punctuation">:</span> <span class="token parameter">hu</span> <span class="token operator">=&gt;</span> hu<span class="token punctuation">.</span>a <span class="token operator">*</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
</code></pre></div><p>计算属性的结果会被缓存, 除非依赖的响应式属性变化才会重新计算. 注意, 如果某个依赖 ( 比如非响应式属性 ) 在实例范畴之外, 则计算属性是不会被更新的</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 仅读取</span>
    <span class="token function">aDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 读取和设置</span>
    aPlus<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token keyword">set</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">=</span> value <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>aPlus<span class="token punctuation">;</span>   <span class="token comment">// -&gt; 2</span>
hu<span class="token punctuation">.</span>aPlus <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span>       <span class="token comment">// -&gt; 2</span>
hu<span class="token punctuation">.</span>aPlus<span class="token punctuation">;</span>   <span class="token comment">// -&gt; 3</span>
hu<span class="token punctuation">.</span>aDouble<span class="token punctuation">;</span> <span class="token comment">// -&gt; 4</span>
</code></pre></div><h3 id="methods"><a href="#methods" aria-hidden="true" class="header-anchor">#</a> methods</h3> <ul><li>类型:   <code>{ [key: String]: Function }</code></li> <li>详细:</li></ul> <p>methods 将被混入到 Hu 实例中. 可以直接通过 Hu 实例访问这些方法, 或者在指令表达式中使用. 方法中的 this 自动绑定为 Hu 实例</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 2</span>
hu<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 3</span>
</code></pre></div><h3 id="globalmethods"><a href="#globalmethods" aria-hidden="true" class="header-anchor">#</a> globalMethods</h3> <ul><li>类型:   <code>{ [key: String]: Function }</code></li> <li>详细:</li></ul> <p>globalMethods 将被混入到 Hu 实例中. 可以直接通过 Hu 实例访问这些方法, 或者在指令表达式中使用. 方法中的 this 自动绑定为 Hu 实例</p> <p>和 methods 选项不同的是, 由自定义元素创建的实例会将方法混入到自定义元素本身, 可以直接调用</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">data</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  globalMethods<span class="token punctuation">:</span><span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token operator">++</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> custom <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'custom-element'</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hu <span class="token operator">=</span> custom<span class="token punctuation">.</span>$hu<span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 2</span>
hu<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 3</span>
custom<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
hu<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// -&gt; 4</span>
</code></pre></div><h3 id="watch"><a href="#watch" aria-hidden="true" class="header-anchor">#</a> watch</h3> <ul><li>类型:   <code>{ [key: string]: string | Function | Object | Array }</code></li> <li>详细:</li></ul> <p>一个对象, 键是需要观察的表达式, 值是对应回调函数. 值也可以是方法名, 或者包含选项的对象. Hu 实例将会在实例化时调用 $watch(), 遍历 watch 对象的每一个属性</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    c<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    d<span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    e<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      f<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        g<span class="token punctuation">:</span> <span class="token number">5</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">watchB</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  watch<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 回调函数方式</span>
    <span class="token function">a</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`value: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> value <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, oldValue: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> oldValue <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 方法名</span>
    b<span class="token punctuation">:</span> <span class="token string">'watchB'</span>
    <span class="token comment">// 深度监听</span>
    c<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      deep<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token function">handler</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 该回调将会在侦听开始之后被立即调用</span>
    d<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      immediate<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token function">handler</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 监听一系列方法</span>
    e<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token string">'watchB'</span><span class="token punctuation">,</span>
      <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token function">handler</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
          <span class="token comment">// ...</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 监听 hu.e.f 的值: { g: 5 }</span>
    <span class="token string">'e.f'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// `value: 2, oldValue: 1`</span>
</code></pre></div><h2 id="选项-dom"><a href="#选项-dom" aria-hidden="true" class="header-anchor">#</a> 选项 / DOM</h2> <h3 id="el"><a href="#el" aria-hidden="true" class="header-anchor">#</a> el</h3> <ul><li>类型:   <code>String | Element</code></li> <li>限制:   只在由 <code>new</code> 创建的实例中遵守</li> <li>详细:</li></ul> <p>提供一个在页面上已存在的 DOM 元素作为 Hu 实例的挂载目标. 可以是 CSS 选择器, 也可以是一个 HTMLElement 实例</p> <p>在实例挂载之后, 元素可以用 hu.$el 访问</p> <p>如果在实例化时存在这个选项, 实例将立即进入编译过程, 否则, 需要显式调用 hu.$mount() 手动开启编译</p> <div class="danger custom-block"><p>和 Vue 不同的是, 挂载元素不会被 Hu 生成的 DOM 替换, 而是替换掉挂载元素的内容. 但是, 依旧不推荐挂载 root 实例到 <code>&lt;html&gt;</code> 或者 <code>&lt;body&gt;</code> 上</p></div> <h3 id="render"><a href="#render" aria-hidden="true" class="header-anchor">#</a> render</h3> <ul><li>类型:   <code>( html: () =&gt; TemplateResult ): TemplateResult | Array&lt;TemplateResult&gt;</code></li> <li>详细:</li></ul> <p>渲染函数允许你发挥 JavaScript 最大的编程能力, 该渲染函数接收一个 <code>html</code> 方法, 使用类似 JSX 的语法来创建 DOM</p> <div class="danger custom-block"><p>这一部分可能是和 Vue 区别最大的地方了, Hu 使用了深度定制的 <a href="https://github.com/Polymer/lit-html" target="_blank" rel="noopener noreferrer">lit-html<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来创建 DOM</p> <p>相比模板语言, 它提供语义化并且可以移动的标签, 且支持多个根元素</p> <p>相比 JSX 语法, 它无需通过构建工具就可以使用</p></div> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 正常使用</span>
<span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`&lt;div&gt;Hello world&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 条件判断</span>
<span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span> something <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`&lt;div&gt;Truthy&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`&lt;div&gt;Falsey&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> style <span class="token operator">=</span> html<span class="token template-string"><span class="token string">`
  &lt;style&gt;
    :host &gt; div{ color: red }
  &lt;/style&gt;
`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 嵌套使用, 且支持多个根元素</span>
<span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
    </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> style <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
    &lt;div&gt;Hi ~&lt;/div&gt;
    &lt;div&gt;Hello world ~&lt;/div&gt;
  `</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 更多示例, 还在编辑中</span>
</code></pre></div><h3 id="styles"><a href="#styles" aria-hidden="true" class="header-anchor">#</a> styles</h3> <ul><li>类型:   <code>string | string[]</code></li> <li>限制:   只在自定义元素创建的实例下可用</li> <li>详细:</li></ul> <p>指定自定义元素的样式, 在使用 polyfill 的环境下, 可以解决样式无法生效的问题</p> <h2 id="选项-生命周期钩子"><a href="#选项-生命周期钩子" aria-hidden="true" class="header-anchor">#</a> 选项 / 生命周期钩子</h2> <h3 id="beforecreate"><a href="#beforecreate" aria-hidden="true" class="header-anchor">#</a> beforeCreate</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>实例初始化后被调用, 计算属性 computed 和数据监听 watch 初始化之前被调用</p> <h3 id="created"><a href="#created" aria-hidden="true" class="header-anchor">#</a> created</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>实例创建完成后被调用. 但是挂载还未开始, 使用 <code>new</code> 创建的实例 <code>$el</code> 属性目前不可见 ( 由自定义元素创建的实例 <code>$el</code> 属性始终是可见的 )</p> <h3 id="beforemount"><a href="#beforemount" aria-hidden="true" class="header-anchor">#</a> beforeMount</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>首次挂载开始之前被调用, 相关的 <code>render</code> 函数还未被调用</p> <h3 id="mounted"><a href="#mounted" aria-hidden="true" class="header-anchor">#</a> mounted</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>首次挂载之后被调用, 使用 <code>new</code> 创建的实例 <code>$el</code> 属性已经可见 ( 由自定义元素创建的实例 <code>$el</code> 属性始终是可见的 ), <code>$el</code> 的内容已经被渲染的结果替换</p> <h3 id="beforedestroy"><a href="#beforedestroy" aria-hidden="true" class="header-anchor">#</a> beforeDestroy</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>实例销毁之前调用. 在这一步, 实例仍然完全可用</p> <h3 id="destroyed"><a href="#destroyed" aria-hidden="true" class="header-anchor">#</a> destroyed</h3> <ul><li>类型:   <code>Function</code></li> <li>详细:</li></ul> <p>实例销毁后调用. 调用后, 实例上的计算属性 / watch 监听数据都会被解绑, 所有的事件监听器会被移除</p> <h3 id="connected"><a href="#connected" aria-hidden="true" class="header-anchor">#</a> connected</h3> <ul><li>类型:   <code>Function</code></li> <li>限制: 只在自定义元素创建的实例下可用</li> <li>详细:</li></ul> <p>自定义元素被添加到文档流, 此时实例完全可用</p> <h3 id="adopted"><a href="#adopted" aria-hidden="true" class="header-anchor">#</a> adopted</h3> <ul><li>类型:   <code>Function</code></li> <li>限制:
<ul><li>只在自定义元素创建的实例下可用</li> <li>在使用 polyfill 的环境下不可用</li></ul></li> <li>详细:</li></ul> <p>自定义元素被移动到新文档时调用, 此时实例完全可用</p> <h3 id="disconnected"><a href="#disconnected" aria-hidden="true" class="header-anchor">#</a> disconnected</h3> <ul><li>类型:   <code>Function</code></li> <li>限制: 只在自定义元素创建的实例下可用</li> <li>详细:</li></ul> <p>自定义元素被从文档流移除, 此时实例完全可用</p> <h2 id="选项-组合"><a href="#选项-组合" aria-hidden="true" class="header-anchor">#</a> 选项 / 组合</h2> <h3 id="mixins"><a href="#mixins" aria-hidden="true" class="header-anchor">#</a> mixins</h3> <ul><li>类型:   <code>Array&lt;Object&gt;</code></li> <li>详细:</li></ul> <p><code>mixins</code> 选项接受一个混入对象的数组. 这些混入实例对象可以像正常的实例对象一样包含选项, 他们将会以一定的逻辑与当前实例对象进行合并. 举例: 如果你的混入包含一个生命周期回调而实例本身也包含一个, 那么两个回调都会被调用</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> mixin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 混入对象的生命周期回调会在实例自身的生命周期回调之前被调用</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span> mixin <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; 1</span>
<span class="token comment">// =&gt; 2</span>
</code></pre></div><h2 id="实例属性"><a href="#实例属性" aria-hidden="true" class="header-anchor">#</a> 实例属性</h2> <h3 id="hu-el"><a href="#hu-el" aria-hidden="true" class="header-anchor">#</a> hu.$el</h3> <ul><li>类型:   <code>Element | ShadowRoot</code></li> <li>只读</li> <li>详细:</li></ul> <p>Hu 实例使用的根 DOM 元素<br>
在由自定义元素创建的实例中, 则是当前实例的阴影根 ( ShadowRoot ) 节点</p> <h3 id="hu-customelement"><a href="#hu-customelement" aria-hidden="true" class="header-anchor">#</a> hu.$customElement</h3> <ul><li>类型:   <code>Element</code></li> <li>限制:   只在由自定义元素创建的实例中可用</li> <li>只读</li> <li>详细</li></ul> <p>Hu 实例的自定义元素节点</p> <h3 id="hu-root"><a href="#hu-root" aria-hidden="true" class="header-anchor">#</a> hu.$root</h3> <ul><li>类型:   <code>Hu instance</code></li> <li>只读</li> <li>详细:</li></ul> <p>为当前实例的根实例, 若当前实例没有父实例, $root 选项会是自己</p> <h3 id="hu-parent"><a href="#hu-parent" aria-hidden="true" class="header-anchor">#</a> hu.$parent</h3> <ul><li>类型:   <code>Hu instance</code></li> <li>只读</li> <li>详细:</li></ul> <p>当前实例的父实例</p> <h3 id="hu-children"><a href="#hu-children" aria-hidden="true" class="header-anchor">#</a> hu.$children</h3> <ul><li>类型:   <code>Hu instance[]</code></li> <li>只读</li> <li>详细:</li></ul> <p>当前实例的直接子组件, 注意, $children 并不保证顺序且不是响应式的</p> <h3 id="hu-props"><a href="#hu-props" aria-hidden="true" class="header-anchor">#</a> hu.$props</h3> <ul><li>类型:   <code>Object</code></li> <li>详细:</li></ul> <p>当前组件接收到的 props 对象, Hu 实例代理了对其 props 对象属性的访问</p> <h3 id="hu-data"><a href="#hu-data" aria-hidden="true" class="header-anchor">#</a> hu.$data</h3> <ul><li>类型:   <code>Object</code></li> <li>详细:</li></ul> <p>Hu 实例观察的数据对象, Hu 实例代理了对其 data 对象属性的访问</p> <h3 id="hu-methods"><a href="#hu-methods" aria-hidden="true" class="header-anchor">#</a> hu.$methods</h3> <ul><li>类型:   <code>Object</code></li> <li>详细:</li></ul> <p>Hu 实例的方法对象, Hu 实例代理了对其 methods 对象属性的访问</p> <h3 id="hu-computed"><a href="#hu-computed" aria-hidden="true" class="header-anchor">#</a> hu.$computed</h3> <ul><li>类型:   <code>Object</code></li> <li>详细:</li></ul> <p>Hu 实例的计算属性对象, Hu 实例代理了对其 computed 对象属性的访问</p> <h3 id="hu-options"><a href="#hu-options" aria-hidden="true" class="header-anchor">#</a> hu.$options</h3> <ul><li>类型:   <code>Object</code></li> <li>只读</li> <li>详细:</li></ul> <p>当前 Hu 实例初始化选项, 需要在初始化选项中包含自定义属性时会有用处</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  customOption<span class="token punctuation">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
  <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$options<span class="token punctuation">.</span>customOption <span class="token punctuation">)</span> <span class="token comment">// =&gt; 'foo'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-info"><a href="#hu-info" aria-hidden="true" class="header-anchor">#</a> hu.$info</h3> <ul><li>类型:   <code>Object</code></li> <li>只读</li> <li>详细:</li></ul> <p>当前 Hu 实例信息选项, 包含了当前实例的各种信息及状态:</p> <div class="tip custom-block"><ul><li><code>name</code> : 当前自定义元素的名称 | 当前实例的名称</li> <li><code>isMounted</code> : 标识当前实例的首次挂载是否已完成</li> <li><code>isCustomElement</code> : 标识当前实例是否是自定义元素</li> <li><code>isConnected</code> : 标识当前自定义元素是否在文档流中 ( 如果是使用 <code>new</code> 创建的实例, 则作用和 isMounted 一致 )</li></ul></div> <h3 id="hu-refs"><a href="#hu-refs" aria-hidden="true" class="header-anchor">#</a> hu.$refs</h3> <ul><li>类型:   <code>Object</code></li> <li>只读</li> <li>详细:</li></ul> <p>一个持有注册过 ref 引用特性的所有 DOM 元素的对象</p> <h2 id="实例方法-数据"><a href="#实例方法-数据" aria-hidden="true" class="header-anchor">#</a> 实例方法 / 数据</h2> <h3 id="hu-watch"><a href="#hu-watch" aria-hidden="true" class="header-anchor">#</a> hu.$watch</h3> <ul><li>用法:   <code>hu.$watch( expOrFn, callback, [ options ] )</code></li> <li>参数:
<ul><li><code>{ String | Function } expOrFn</code></li> <li><code>{ Function | Object } callback</code></li> <li><code>{ Object } [ options ]</code> <ul><li><code>{ Boolean } deep</code></li> <li><code>{ Boolean } immediate</code></li></ul></li></ul></li> <li>返回值:   <code>{ Function } unWatch</code></li> <li>详细:</li></ul> <p>观察 Hu 实例变化的一个表达式或计算属性函数. 回调函数得到的参数为新值和旧值. 表达式只接受监督的键路径. 对于更复杂的表达式, 可以用一个函数取代</p> <div class="danger custom-block"><p>注意: 在变异 ( 不是替换 ) 对象或数组时, 旧值将与新值相同, 因为它们的引用指向同一个对象 / 数组. Hu 不会保留变异之前值的副本</p></div> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 键路径</span>
hu<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span> <span class="token string">'a.b.c'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 做点什么</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 函数</span>
hu<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 表达式 `this.a + this.b` 每次得出一个不同的结果时</span>
    <span class="token comment">// 处理函数都会被调用</span>
    <span class="token comment">// 这就像监听一个未被定义的计算属性</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 做点什么</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>hu.$watch</code> 返回一个取消观察函数, 用来停止触发回调</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> unWatch <span class="token operator">=</span> hu<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span> <span class="token string">'a'</span><span class="token punctuation">,</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 取消观察</span>
<span class="token function">unWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>选项: deep</li></ul> <p>为了发现对象内部值的变化, 可以在选项参数中指定 <code>deep: true</code></p> <div class="danger custom-block"><p>和 Vue 不同的是, 如果你要监听一个数组内部的变动, 也需要添加 <code>deep: true</code></p></div> <div class="language-js extra-class"><pre class="language-js"><code>hu<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span> <span class="token string">'someObject'</span><span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  deep<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>someObject<span class="token punctuation">.</span>nestedValue <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>
<span class="token comment">// 回调会被触发</span>
</code></pre></div><ul><li>选项: immediate</li></ul> <p>在选项参数中指定 <code>immediate: true</code> 将立即以表达式的当前值触发回调</p> <div class="language-js extra-class"><pre class="language-js"><code>hu<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span> <span class="token string">'a'</span><span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  immediate<span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="实例方法-事件"><a href="#实例方法-事件" aria-hidden="true" class="header-anchor">#</a> 实例方法 / 事件</h2> <h3 id="hu-on"><a href="#hu-on" aria-hidden="true" class="header-anchor">#</a> hu.$on</h3> <ul><li>用法:   <code>hu.$on( event, callback )</code></li> <li>参数:
<ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li>详细:</li></ul> <p>监听当前实例上的自定义事件. 事件可以由 hu.$emit 触发. 回调函数会接收所有传入事件触发函数的额外参数</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>hu<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> msg <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span> <span class="token string">'test'</span><span class="token punctuation">,</span> <span class="token string">'hi'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// =&gt; &quot;hi&quot;</span>
</code></pre></div><h3 id="hu-once"><a href="#hu-once" aria-hidden="true" class="header-anchor">#</a> hu.$once</h3> <ul><li>用法:   <code>hu.$once( event, callback )</code></li> <li>参数:
<ul><li><code>{ string } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li>详细:</li></ul> <p>监听一个当前实例上的自定义事件, 但是只触发一次, 在第一次触发之后移除监听器</p> <h3 id="hu-off"><a href="#hu-off" aria-hidden="true" class="header-anchor">#</a> hu.$off</h3> <ul><li><p>用法:   <code>hu.$off([ event, callback ])</code></p></li> <li><p>参数:</p> <ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li><p>详细:</p> <p>移除自定义事件监听器</p> <ul><li>如果没有提供参数, 则移除所有的事件监听器</li> <li>如果只提供了事件, 则移除该事件所有的监听器</li> <li>如果同时提供了事件与回调, 则只移除这个回调的监听器</li></ul></li></ul> <h3 id="hu-emit"><a href="#hu-emit" aria-hidden="true" class="header-anchor">#</a> hu.$emit</h3> <ul><li>用法:   <code>hu.$emit( event, [ ...args ] )</code></li> <li>参数:
<ul><li><code>{ string } event</code></li> <li><code>[ ...args ]</code></li></ul></li> <li>详细:</li></ul> <p>触发当前实例上的事件, 附加参数都会传给监听器回调</p> <h2 id="实例方法-生命周期"><a href="#实例方法-生命周期" aria-hidden="true" class="header-anchor">#</a> 实例方法 / 生命周期</h2> <h3 id="hu-mount"><a href="#hu-mount" aria-hidden="true" class="header-anchor">#</a> hu.$mount</h3> <ul><li>用法:   <code>hu.$mount( elementOrSelector )</code></li> <li>参数:
<ul><li><code>{ Element | string } elementOrSelector</code></li></ul></li> <li>返回值:   <code>hu</code> - 实例自身</li> <li>限制:   只在由 <code>new</code> 创建的实例中可用</li> <li>详细:</li></ul> <p>如果 Hu 实例在实例化时没有收到 el 选项, 则它处于 &quot;未挂载&quot; 状态, 没有关联的 DOM 元素. 可以使用 hu.$mount() 手动地挂载一个未挂载的实例</p> <p>这个方法返回实例自身, 因而可以链式调用其它实例方法</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 创建实例, 但是未挂载实例到文档中</span>
<span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`&lt;div&gt;Hello!&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 挂载到 #app</span>
hu<span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-forceupdate"><a href="#hu-forceupdate" aria-hidden="true" class="header-anchor">#</a> hu.$forceUpdate</h3> <ul><li>用法:   <code>hu.$forceUpdate()</code></li> <li>详细:</li></ul> <p>迫使 Hu 实例立即重新渲染</p> <h3 id="hu-nexttick-2"><a href="#hu-nexttick-2" aria-hidden="true" class="header-anchor">#</a> hu.$nextTick</h3> <ul><li>用法:   <code>hu.$nextTick([ callback ])</code></li> <li>参数:
<ul><li><code>{ Function } [ callback ]</code></li></ul></li> <li>详细:</li></ul> <p>将回调延迟到下次 DOM 更新循环之后执行. 在修改数据之后立即使用它, 然后等待 DOM 更新. 它跟全局方法 <code>Hu.nextTick</code> 一样, 不同的是回调的 this 自动绑定到调用它的实例上</p> <p>如果没有提供回调, 则返回一个 Promise</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  methods<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// 修改数据</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string">'changed'</span><span class="token punctuation">;</span>
      <span class="token comment">// DOM 还没有更新</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">{</span>
        <span class="token comment">// DOM 现在更新了</span>
        <span class="token comment">// `this` 绑定到当前实例</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doSomethingElse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="hu-destroy"><a href="#hu-destroy" aria-hidden="true" class="header-anchor">#</a> hu.destroy</h3> <ul><li>用法:   <code>hu.$destroy()</code></li> <li>详细:</li></ul> <p>完全销毁一个实例, 移除所有计算属性和 watch 监听, 解绑它的全部指令及事件监听器<br>
触发 <code>beforeDestroy</code> 和 <code>destroyed</code> 的钩子</p> <h2 id="自定义元素属性"><a href="#自定义元素属性" aria-hidden="true" class="header-anchor">#</a> 自定义元素属性</h2> <h3 id="custom-hu"><a href="#custom-hu" aria-hidden="true" class="header-anchor">#</a> custom.$hu</h3> <ul><li>只读</li> <li>详细</li></ul> <p>自定义元素和自定义元素对应的 hu 实例的映射</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Hu<span class="token punctuation">.</span><span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">'custom-element'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 自定义元素</span>
<span class="token keyword">const</span> custom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'custom-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 自定义元素对应的 hu 实例</span>
<span class="token keyword">const</span> hu <span class="token operator">=</span> custom<span class="token punctuation">.</span>$hu<span class="token punctuation">;</span>
</code></pre></div><h2 id="自定义元素方法"><a href="#自定义元素方法" aria-hidden="true" class="header-anchor">#</a> 自定义元素方法</h2> <h3 id="custom-on"><a href="#custom-on" aria-hidden="true" class="header-anchor">#</a> custom.$on</h3> <ul><li>用法:   <code>custom.$on( event, callback )</code></li> <li>参数:
<ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li>只读</li> <li>详细:</li></ul> <p>实例 <a href="#hu-on">$on</a> 方法的映射</p> <h3 id="custom-once"><a href="#custom-once" aria-hidden="true" class="header-anchor">#</a> custom.$once</h3> <ul><li>用法:   <code>custom.$once( event, callback )</code></li> <li>参数:
<ul><li><code>{ string } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li>只读</li> <li>详细:</li></ul> <p>实例 <a href="#hu-once">$once</a> 方法的映射</p> <h3 id="custom-off"><a href="#custom-off" aria-hidden="true" class="header-anchor">#</a> custom.$off</h3> <ul><li>用法:   <code>custom.$off([ event, callback ])</code></li> <li>参数:
<ul><li><code>{ string | Array&lt;string&gt; } event</code></li> <li><code>{ Function } callback</code></li></ul></li> <li>只读</li> <li>详细:</li></ul> <p>实例 <a href="#hu-emit">$off</a> 方法的映射</p> <h2 id="基础指令"><a href="#基础指令" aria-hidden="true" class="header-anchor">#</a> 基础指令</h2> <h3 id="prop"><a href="#prop" aria-hidden="true" class="header-anchor">#</a> .prop</h3> <ul><li>参数:   <code>prop</code></li> <li>预期:   <code>any</code></li> <li>详细:</li></ul> <p>用于动态地绑定 DOM 属性 ( property ), 属性名由参数指定</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>html<span class="token template-string"><span class="token string">`&lt;div .title=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token string">'value'</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span><span class="token punctuation">;</span>

div<span class="token punctuation">.</span>title<span class="token punctuation">;</span> <span class="token comment">// =&gt; 'value'</span>
</code></pre></div><h3 id="attr"><a href="#attr" aria-hidden="true" class="header-anchor">#</a> ?attr</h3> <ul><li>参数:   <code>attr</code></li> <li>预期:   <code>Boolean</code></li> <li>详细:</li></ul> <p>若属性值为 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noopener noreferrer">Truthy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 则保留 DOM 属性, 否则移除 DOM 属性, 属性名由参数指定</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 保留 DOM 属性</span>
html<span class="token template-string"><span class="token string">`&lt;input ?readonly=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token boolean">true</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> /&gt;`</span></span><span class="token punctuation">;</span>
input<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'readonly'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true;</span>

<span class="token comment">// 移除 DOM 属性</span>
html<span class="token template-string"><span class="token string">`&lt;input ?readonly=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token boolean">false</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> /&gt;`</span></span><span class="token punctuation">;</span>
input<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">'readonly'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false;</span>
</code></pre></div><h3 id="event"><a href="#event" aria-hidden="true" class="header-anchor">#</a> @event</h3> <ul><li>参数:   <code>event</code></li> <li>预期:   <code>Function</code></li> <li>修饰符:
<ul><li><code>.stop</code> - 调用 <code>event.stopPropagation()</code></li> <li><code>.prevent</code> - 调用 <code>event.preventDefault()</code></li> <li><code>.capture</code> - 添加事件侦听器时使用 capture 模式</li> <li><code>.passive</code> - 添加事件侦听器时使用 passive 模式</li> <li><code>.once</code> - 只触发一次回调</li> <li><code>.self</code> - 只当事件是从侦听器绑定的元素本身触发时才触发回调</li> <li><code>.left</code> - 只当点击鼠标左键时触发</li> <li><code>.middle</code> - 只当点击鼠标中键时触发</li> <li><code>.right</code> - 只当点击鼠标右键时触发</li> <li><code>.ctrl</code> - <code>系统修饰键</code>, 只当按下 <code>ctrl</code> 时触发</li> <li><code>.alt</code> - <code>系统修饰键</code>, 只当按下 <code>alt</code> 时触发</li> <li><code>.shift</code> - <code>系统修饰键</code>, 只当按下 <code>shift</code> 时触发</li> <li><code>.meta</code> - <code>系统修饰键</code>, 只当按下 <code>meta</code> 时触发</li> <li><code>.exact</code> - 控制由精确的 <code>系统修饰键</code> 组合时触发</li></ul></li> <li>详细:</li></ul> <p>绑定事件监听器, 事件类型由参数指定</p> <ul><li>参数:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// 方法处理器</span>
html<span class="token template-string"><span class="token string">`&lt;button @click=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 停止冒泡</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.stop=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 阻止默认行为</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.prevent=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 串联修饰符</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.stop.prevent=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 点击回调只会触发一次</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.once=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 系统修饰键</span>
<span class="token comment">// 点击时, ctrl 是按下的</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.ctrl=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>

<span class="token comment">// 精确控制系统修饰键</span>
<span class="token comment">// 点击时, 四个系统修饰键内只有 ctrl 是按下的</span>
html<span class="token template-string"><span class="token string">`&lt;button @click.ctrl.exact=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> doSomething <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/button&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="name"><a href="#name" aria-hidden="true" class="header-anchor">#</a> :name</h3> <ul><li>参数:   <code>name</code></li> <li>预期:   按不同指令而不同</li> <li>详细:</li></ul> <p>拥有高级功能的指令, 指令名称由参数指定. 详见 <a href="#%E5%8A%9F%E8%83%BD%E6%8C%87%E4%BB%A4">功能指令</a></p> <h2 id="功能指令"><a href="#功能指令" aria-hidden="true" class="header-anchor">#</a> 功能指令</h2> <h3 id="class"><a href="#class" aria-hidden="true" class="header-anchor">#</a> :class</h3> <ul><li>预期:   <code>String | Array | Object</code></li> <li>详细:</li></ul> <p>操作元素的 class 列表是数据绑定的一个常见需求, <code>:class</code> 做了专门的增强, 表达式结果的类型除了字符串之外, 还可以是对象或数组</p> <h4 id="对象语法"><a href="#对象语法" aria-hidden="true" class="header-anchor">#</a> 对象语法</h4> <p>我们可以传给 <code>:class</code> 一个对象, 以动态地切换 class:</p> <div class="language-js extra-class"><pre class="language-js"><code>html<span class="token template-string"><span class="token string">`&lt;div :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">{</span> active<span class="token punctuation">:</span> isActive <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}&gt;&lt;/div&gt;`</span></span>
</code></pre></div><p>上面的语法表示 <code>active</code> 这个 class 存在与否将取决于数据属性 <code>isActive</code> 的 <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Truthy" target="_blank" rel="noopener noreferrer">truthiness<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>你可以在对象中传入更多属性来动态切换多个 class. 此外, <code>:class</code> 指令也可以与普通的 class 属性共存</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> isActive <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hasError <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

html<span class="token template-string"><span class="token string">`
  &lt;div
    class=&quot;static&quot;
    :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">{</span> active<span class="token punctuation">:</span> isActive<span class="token punctuation">,</span> <span class="token string">'text-danger'</span><span class="token punctuation">:</span> hasError <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}
  &gt;&lt;/div&gt;
`</span></span>
</code></pre></div><p>结果将渲染为</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;static active&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><p>绑定的数据对象不必内联定义在模板里</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> classes <span class="token operator">=</span> <span class="token punctuation">{</span>
  active<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string">'text-danger'</span><span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 渲染的结果和上面一样</span>
html<span class="token template-string"><span class="token string">`&lt;div class=&quot;static&quot; :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> classes <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>我们也可以在这里绑定一个返回对象的计算属性. 这是一个常用且强大的模式</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    isActive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token keyword">null</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token function">classes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        active<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isActive <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>error<span class="token punctuation">,</span>
        <span class="token string">'text-danger'</span><span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>error<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">'fatal'</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
      &lt;div class=&quot;static&quot; :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>classes <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;
    `</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="数组语法"><a href="#数组语法" aria-hidden="true" class="header-anchor">#</a> 数组语法</h4> <p>我们可以把一个数组传给 <code>:class</code>, 以应用一个 class 列表</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> activeClass <span class="token operator">=</span> <span class="token string">'active'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> errorClass <span class="token operator">=</span> <span class="token string">'text-danger'</span><span class="token punctuation">;</span>

html<span class="token template-string"><span class="token string">`&lt;div :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">[</span> activeClass<span class="token punctuation">,</span> errorClass <span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>如果你也想根据条件切换列表中的 class, 可以用三元表达式</p> <div class="language-js extra-class"><pre class="language-js"><code>html<span class="token template-string"><span class="token string">`&lt;div :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">[</span> isActive <span class="token operator">?</span> activeClass <span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span> errorClass <span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><p>不过, 当有多个条件 class 时这样写有些繁琐. 所以在数组语法中也可以使用对象语法</p> <div class="language-js extra-class"><pre class="language-js"><code>html<span class="token template-string"><span class="token string">`&lt;div :class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">[</span> <span class="token punctuation">{</span> activeClass<span class="token punctuation">:</span> isActive <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, errorClass ]}&gt;&lt;/div&gt;`</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="style"><a href="#style" aria-hidden="true" class="header-anchor">#</a> :style</h3> <ul><li>预期:   <code>String | Array | Object</code></li> <li>详细:</li></ul> <p>操作元素的 style 内联样式是数据绑定的一个常见需求, <code>:style</code> 做了专门的增强, 表达式结果的类型除了字符串之外, 还可以是对象或数组.</p> <h4 id="对象语法-2"><a href="#对象语法-2" aria-hidden="true" class="header-anchor">#</a> 对象语法</h4> <p><code>:style</code> 的对象语法十分直观 -- 看着非常像 CSS, 但其实是一个 JavaScript 对象. CSS 属性名可以用驼峰式 ( camelCase ) 或短横线分隔 ( kebab-case, 记得用单引号括起来 ) 来命名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> activeColor <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fontSize <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

html<span class="token template-string"><span class="token string">`&lt;div :style=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">{</span> color<span class="token punctuation">:</span> activeColor<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> fontSize <span class="token operator">+</span> <span class="token string">'px'</span> <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">}&gt;&lt;/div&gt;`</span></span>
</code></pre></div><p>直接绑定到一个样式对象通常更好，这会让模板更清晰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> styleObject <span class="token operator">=</span> <span class="token punctuation">{</span>
  color<span class="token punctuation">:</span> <span class="token string">'red'</span><span class="token punctuation">,</span>
  fontSize<span class="token punctuation">:</span> <span class="token string">'13px'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

html<span class="token template-string"><span class="token string">`&lt;div :style=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> styleObject <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span>
</code></pre></div><p>同样的, 对象语法常常结合返回对象的计算属性使用</p> <h4 id="数组语法-2"><a href="#数组语法-2" aria-hidden="true" class="header-anchor">#</a> 数组语法</h4> <p><code>:style</code> 的数组语法可以将多个样式对象应用到同一个元素上</p> <div class="language-js extra-class"><pre class="language-js"><code>html<span class="token template-string"><span class="token string">`&lt;div :style=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">[</span> baseStyles<span class="token punctuation">,</span> overridingStyles <span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&lt;/div&gt;`</span></span>
</code></pre></div><h3 id="model"><a href="#model" aria-hidden="true" class="header-anchor">#</a> :model</h3> <ul><li>预期:   随表单控件类型不同而不同</li> <li>限制:
<ul><li><code>&lt;input&gt;</code></li> <li><code>&lt;select&gt;</code></li> <li><code>&lt;textarea&gt;</code></li></ul></li> <li>详细:</li></ul> <p>在表单控件上创建双向绑定, 可以将控件的值与观察者对象进行绑定</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> hu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token punctuation">:</span> div<span class="token punctuation">,</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    value<span class="token punctuation">:</span> <span class="token string">''</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
      &lt;input ref=&quot;input&quot; :model=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'value'</span> <span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;
    `</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

hu<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">;</span>
hu<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  hu<span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>input<span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token comment">// -&gt; '1'</span>

  hu<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'2'</span><span class="token punctuation">;</span>
  hu<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    hu<span class="token punctuation">.</span>$ref<span class="token punctuation">.</span>input<span class="token punctuation">.</span>value<span class="token punctuation">;</span><span class="token comment">// -&gt; '2'</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="show"><a href="#show" aria-hidden="true" class="header-anchor">#</a> :show</h3> <ul><li>预期:   <code>any</code></li> <li>详细:</li></ul> <p>根据表达式之真假值, 切换元素的 display CSS 属性</p> <h3 id="text"><a href="#text" aria-hidden="true" class="header-anchor">#</a> :text</h3> <ul><li>预期:   <code>any</code></li> <li>详细:</li></ul> <p>更新元素的 <code>textContent</code></p> <h3 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> :html</h3> <ul><li>预期:   <code>any</code></li> <li>详细:</li></ul> <p>更新元素的 <code>innerHTML</code>, 如果需要更新部分的 <code>innerHTML</code>, 可以使用 <a href="#html-unsafe">unsafe</a> 指令方法</p> <div class="danger custom-block"><ul><li>内容将按照普通 HTML 直接进行插入, 不会对内容进行其他编译</li> <li>在网站上动态渲染任意 HTML 是非常危险的, 因为容易导致 XSS 攻击<br></li> <li>只在可信内容上使用 unsafe, 永不用在用户提交的内容上</li></ul></div> <h2 id="指令方法"><a href="#指令方法" aria-hidden="true" class="header-anchor">#</a> 指令方法</h2> <h3 id="html-repeat"><a href="#html-repeat" aria-hidden="true" class="header-anchor">#</a> html.repeat</h3> <ul><li>用法:   <code>html.repeat( item, key, template )</code></li> <li>参数:
<ul><li><code>{ T[] } item</code></li> <li><code>{ string | ((T) =&gt; string) } key</code></li> <li><code>{ ( item: T, index: number, items: T[] ) =&gt; TemplateResult } template</code></li></ul></li> <li>详细:</li></ul> <p>渲染数组时使用, 若数组发生变动, 将基于 key 的变化重新排列元素顺序而不是替换元素</p> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'q'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'w'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> <span class="token string">'e'</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token template-string"><span class="token string">`
  &lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    Hu<span class="token punctuation">.</span>html<span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span> arr<span class="token punctuation">,</span> <span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token parameter">data<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span> <span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> Hu<span class="token punctuation">.</span>html`<span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>$<span class="token punctuation">{</span> data<span class="token punctuation">.</span>id <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> data<span class="token punctuation">.</span>value <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
`<span class="token punctuation">;</span>
</code></pre></div><h3 id="html-unsafe"><a href="#html-unsafe" aria-hidden="true" class="header-anchor">#</a> html.unsafe</h3> <ul><li>用法:   <code>html.unsafe( value )</code></li> <li>参数:
<ul><li><code>{ string } value</code></li></ul></li> <li>详细:</li></ul> <p>将内容按普通 HTML 不转义直接插入到当前位置, 如果需要更新完整的的 <code>innerHTML</code>, 也可以使用 <a href="#html">html</a> 功能指令</p> <div class="danger custom-block"><ul><li>内容将按照普通 HTML 直接进行插入, 不会对内容进行其他编译</li> <li>在网站上动态渲染任意 HTML 是非常危险的, 因为容易导致 XSS 攻击<br></li> <li>只在可信内容上使用 unsafe, 永不用在用户提交的内容上</li></ul></div> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> unsafeHTML <span class="token operator">=</span> <span class="token template-string"><span class="token string">`&lt;span&gt;unsafeHTML&lt;/span&gt;`</span></span><span class="token punctuation">;</span>

Hu<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token template-string"><span class="token string">`
  &lt;div&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    Hu<span class="token punctuation">.</span>html<span class="token punctuation">.</span><span class="token function">unsafe</span><span class="token punctuation">(</span> unsafeHTML <span class="token punctuation">)</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
`</span></span><span class="token punctuation">;</span>
</code></pre></div><h3 id="html-bind"><a href="#html-bind" aria-hidden="true" class="header-anchor">#</a> html.bind</h3> <ul><li>用法:   <code>html.bind( obj, name )</code></li> <li>参数:
<ul><li><code>{ object } obj</code></li> <li><code>{ string | number | symbol } name</code></li></ul></li> <li>详细:</li></ul> <p>将元素属性或内容与观察者对象的目标对象绑定, 若观察者对象的目标对象更新, 元素属性也会更新</p> <div class="tip custom-block"><ul><li>和常规绑定相比, 若是使用此方法绑定的元素属性或内容, 变量更新时可以不触发整体重新渲染</li> <li>纯渲染实例可以使用此方法达到和常规绑定一样的体验</li> <li>和常规绑定一样, 观察者对象的目标对象更新后, 属性值会在下一 tick 进行更新, 可以使用 nextTick 方法获取更新后的值</li></ul></div> <ul><li>示例:</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Hu</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    classes<span class="token punctuation">:</span> <span class="token string">'bar'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">render</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 可复用</span>
    <span class="token keyword">const</span> bindClasses <span class="token operator">=</span> <span class="token function">html</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">'classes'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 1. 使用 bind 绑定的写法</span>
    <span class="token comment">// 若 classes 发生改变, render 方法不会被重新运行, 而是单独更新绑定的位置</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
      &lt;div class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> bindClasses <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> bindClasses <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
    `</span></span><span class="token punctuation">;</span>

    <span class="token comment">// 2. 使用常规绑定的写法</span>
    <span class="token comment">// 若 classes 发生改变, render 方法会被重新运行以达到更新的目的</span>
    <span class="token keyword">return</span> html<span class="token template-string"><span class="token string">`
      &lt;div class=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>classes <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span> <span class="token keyword">this</span><span class="token punctuation">.</span>classes <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
    `</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><br> <br> <br> <br> <br> <br></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0dacb833.js" defer></script><script src="/assets/js/2.01421ed1.js" defer></script><script src="/assets/js/6.229c71ae.js" defer></script>
  </body>
</html>
